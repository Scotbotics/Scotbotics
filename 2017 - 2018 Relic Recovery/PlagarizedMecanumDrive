
/**
 * Created by Sam on 12/10/2017.
 */

//Extension takes 10 seconds

package org.firstinspires.ftc.teamcode;

//Last Edited 12/10/17

import com.qualcomm.robotcore.eventloop.opmode.TeleOp;
import com.qualcomm.robotcore.eventloop.opmode.LinearOpMode;

import com.qualcomm.robotcore.eventloop.opmode.Disabled;
import com.qualcomm.robotcore.eventloop.opmode.LinearOpMode;
import com.qualcomm.robotcore.eventloop.opmode.OpMode;
import com.qualcomm.robotcore.eventloop.opmode.TeleOp;
import com.qualcomm.robotcore.hardware.DcMotor;
import com.qualcomm.robotcore.hardware.DcMotorSimple;
import com.qualcomm.robotcore.util.ElapsedTime;
import com.qualcomm.robotcore.eventloop.opmode.OpMode;
import com.qualcomm.robotcore.hardware.DcMotor;
import com.qualcomm.robotcore.hardware.DcMotorController;
import com.qualcomm.robotcore.hardware.Servo;
import android.media.MediaPlayer;
import android.media. MediaPlayer;
import com.qualcomm.robotcore.util.ElapsedTime;


@TeleOp(name = "PlagarizedMecanumDrive", group = "TeleOp")

public class PlagarizedMecanumDrive extends OpMode {

    //Variables for the Robot
    double left;
    double right;
    double drive;
    double turn;
    double max;
    double LeftGrabber;
    double RightGrabber;
    double Arm;

    //Motors for the program
    DcMotor Right;
    DcMotor Left;
    DcMotor leftGrabber;
    DcMotor rightGrabber;
    DcMotor Climber;
    DcMotor Extender;
    DcMotor arm;

    Servo El_Diablo;
    Servo Klaw;
    //Servo Jewel_Knocker;
    //Servo Final_Pusher;
    //Servo Right_Collector;
    //Servo Left_Collector;

    float rightJoystickVal_Cont1;
    float leftJoystickVal_Cont1;

    float RightJoystickVal_Cont2;
    float LeftJoystickVal_Cont2;


    //static final double MAX_POS     =  1.0;     // Maximum rotational position
    //static final double MIN_POS     =  0.0;     // Minimum rotational position

    public void init() {

        //connection of motorized parts between control system and software
        //The stuff in green is what the configuration on the phone uses
        
        //The first seven declarations are motors
        Right        = hardwareMap.dcMotor.get("rightDrive"); //right motor
        Left         =  hardwareMap.dcMotor.get("leftDrive"); //left
        Climber      = hardwareMap.dcMotor.get("climber");
        leftGrabber  = hardwareMap.dcMotor.get("left_grabber");
        rightGrabber = hardwareMap.dcMotor.get("right_grabber");
        Extender     = hardwareMap.dcMotor.get("extender");
        arm          = hardwareMap.dcMotor.get("arm");

        //The next two are the servos
        Klaw         = hardwareMap.servo.get("claw");
        El_Diablo    = hardwareMap.servo.get("el_diablo");


        //Right.setDirection(DcMotor.Direction.REVERSE); //Tells the motors to be different, so we can drive
        Climber.setDirection(DcMotor.Direction.REVERSE); //Tells the motors to be different, so the climber makes reasonable sense

        telemetry.addData(">", "Robot Initialized" );
        telemetry.update();

    }
    public void loop() {

        //Drive loop
        //Tank drive (Henry's preference)
        //Left joystick Y values controls the left drive motor
        //Right joystick Y vales controls the right drive motor
        left     = gamepad1.left_stick_y;
        right    = gamepad1.right_stick_y;

        //Power the motors according to the joystick values
        Left.setPower(left);
        Right.setPower(right);

        //Grabber arms
        //When you hold down functions right trigger, the grabber goes up
        if(gamepad2.right_trigger == 1)
        {
            leftGrabber.setPower(0.75);
            rightGrabber.setPower(0.75);
        }
        else {

            leftGrabber.setPower(0);
            rightGrabber.setPower(0);

        }

        //When you hold down functions left trigger, the grabber goes down
        if(gamepad2.left_trigger == 1)
        {
            leftGrabber.setPower(-0.75);
            rightGrabber.setPower(-0.75);
        }
        else {

            leftGrabber.setPower(0);
            rightGrabber.setPower(0);

        }

        //When left bumper is pressed, El Diablo goes up
        //When right bumper is pressed, El Diablo goes down
        if(gamepad1.left_bumper) {
            El_Diablo.setPosition(1);
            telemetry.addData(">", "El Diablo Extending" );
            telemetry.update();
        } else if(gamepad1.right_bumper) {
            El_Diablo.setPosition(0);
            telemetry.addData(">", "El Diablo Retracting" );
            telemetry.update();
        }

        //When left bumper is pressed, El Diablo goes up
        //When right bumper is pressed, El Diablo goes down
        if(gamepad2.right_bumper) {
            Klaw.setPosition(1.0);
            telemetry.addData(">", "Claw Tightening" );
            telemetry.update();
        } else if (gamepad2.left_bumper) {
            Klaw.setPosition(0);
            telemetry.addData(">", "Claw Loosening" );
            telemetry.update();
        }

        //Functions Left Joystick Y controls the arm that collects the cubes
        LeftJoystickVal_Cont2 = -gamepad2.left_stick_y;
        arm.setPower(LeftJoystickVal_Cont2);
        telemetry.addData(">", "arm moving" );
        telemetry.update();

        //Functions Right Joystick Y  moves El Diablo out to grab the relic
        RightJoystickVal_Cont2 = -gamepad2.right_stick_y;
        Extender.setPower(RightJoystickVal_Cont2);
        telemetry.addData(">", "extender moving" );
        telemetry.update();

    }
    public void stop() {
        //tells all power to cut to 0, shouldn't be necessary
        Right.setPower(0);
        Left.setPower(0);
        Climber.setPower(0);
        leftGrabber.setPower(0);
        rightGrabber.setPower(0);
        Extender.setPower(0);

        //servos
        Klaw.setPosition(0.5);
        El_Diablo.setPosition(0.5);

        
        telemetry.addData(">", "Everything Stopped" );
        telemetry.update();
    }
}
